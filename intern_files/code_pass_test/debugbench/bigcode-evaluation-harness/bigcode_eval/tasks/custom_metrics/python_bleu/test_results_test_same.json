{"question_id": "11840111-96", "gold": "{k: (float(d2[k]) / d1[k]) for k in d2}", "clean_code": "{k: d1[k] / d2[k] for k, v in list(d1.items())}"}
{"question_id": "11840111-75", "gold": "dict((k, float(d2[k]) / d1[k]) for k in d2)", "clean_code": "{d1[k] / d2[k] for k, v in list(d1.items())}"}
{"question_id": "19602931-64", "gold": "testfile = urllib.request.URLopener() testfile.retrieve('http://randomsite.com/file.gz', 'file.gz')", "clean_code": "urllib.request.urlretrieve('http://randomsite.com/file.gz', 'http://randomsite.com/file.gz')"}
{"question_id": "19602931-43", "gold": "urllib.request.urlretrieve('http://randomsite.com/file.gz', 'file.gz')", "clean_code": "urllib.request.urlretrieve('http://randomsite.com/file.gz', 'file.gz')"}
{"question_id": "23351183-26", "gold": "MyModel.objects.extra(where=['CHAR_LENGTH(text) > 254'])", "clean_code": "MyModel.objects.filter(charfield_length__max=255)"}
{"question_id": "432842-3", "gold": "((a and (not b)) or ((not a) and b))", "clean_code": "np.logical_xor(a, b, out=None, casting='same_kind', order='K')"}
{"question_id": "546321-12", "gold": "(date(2010, 12, 31) + relativedelta(months=(+ 1)))", "clean_code": "datetime.datetime.today().strftime('%B') + datetime.timedelta(months=1)"}
{"question_id": "546321-62", "gold": "(date(2010, 12, 31) + relativedelta(months=(+ 2)))", "clean_code": "datetime.datetime.today().strftime('%B') + datetime.timedelta(days=2)"}
{"question_id": "1186789-34", "gold": "subprocess.call('test1.py', shell=True)", "clean_code": "os.system('python test1.py')"}
{"question_id": "843277-70", "gold": "hasattr(obj, 'attr_name')", "clean_code": "hasattr(obj, 'attr_name')"}
{"question_id": "2231663-53", "gold": "list(grouper(2, [1, 2, 3, 4, 5, 6, 7]))", "clean_code": "[[1, 2, 3, 4, 5, 6, 7]]"}
{"question_id": "2231663-54", "gold": "[input[i:i + n] for i in range(0, len(input), n)]", "clean_code": "list(itertools.islice(a, b) for a, b in zip(a, b))"}
{"question_id": "14571103-73", "gold": "re.findall('(?::|;|=)(?:-)?(?:\\\\)|\\\\(|D|P)', s)", "clean_code": "re.findall('(?::|;|=)(?:-)?(?:\\\\)|\\\\(|D|P)', s)"}
{"question_id": "27868020-14", "gold": "df.loc[df.groupby('User')['X'].transform(sum) == 0]", "clean_code": "df[df['User'] == 0]"}
{"question_id": "27868020-52", "gold": "df.groupby('User')['X'].transform(sum) == 0", "clean_code": "df[df['X'] == 0]"}
{"question_id": "4302027-39", "gold": "webbrowser.open('http://example.com')", "clean_code": "webbrowser.open('http://example.com', open_url=True)"}
{"question_id": "4906977-61", "gold": "os.environ['HOME']", "clean_code": "print(os.environ['HOME'])"}
{"question_id": "4906977-33", "gold": "os.environ['HOME']", "clean_code": "print(os.environ['HOME'])"}
{"question_id": "4906977-98", "gold": "print(os.environ)", "clean_code": "print(os.environ)"}
{"question_id": "4906977-9", "gold": "os.environ", "clean_code": "print(os.environ)"}
{"question_id": "4906977-77", "gold": "print(os.getenv('KEY_THAT_MIGHT_EXIST', default_value))", "clean_code": "print(os.environ['KEY_THAT_MIGHT_EXIST'])"}
{"question_id": "674509-17", "gold": "sorted(list(dictionary.items()), key=operator.itemgetter(1))", "clean_code": "sorted(dictionary, key=operator.itemgetter(1))"}
{"question_id": "674509-45", "gold": "sorted(list(dictionary.items()), key=lambda x: x[1])", "clean_code": "for k, v in list(d.items()):     pass"}
{"question_id": "29370211-80", "gold": "df['stats'].str[1:-1].str.split(',', expand=True).astype(float)", "clean_code": "df['stats'] = df['stats'].str.split(',')"}
{"question_id": "29370211-55", "gold": "df['stats'].str[1:-1].str.split(',').apply(pd.Series).astype(float)", "clean_code": "df['stats'] = df['stats'].str.split(',')"}
{"question_id": "3939361-35", "gold": "line.translate(None, '!@#$')", "clean_code": "line = re.sub('!@#$', '', line)"}
{"question_id": "3939361-33", "gold": "line = re.sub('[!@#$]', '', line)", "clean_code": "line = re.sub('!@#$', '', line)"}
{"question_id": "3939361-18", "gold": "string.replace('1', '')", "clean_code": "string.replace('1', '1')"}
{"question_id": "3939361-89", "gold": "line = line.translate(string.maketrans('', ''), '!@#$')", "clean_code": "line = re.sub('!@#$', '', line)"}
{"question_id": "14043934-80", "gold": "(t - datetime.timedelta(hours=1, minutes=10))", "clean_code": "t -= datetime.timedelta(hours=1, minutes=10)"}
{"question_id": "14043934-42", "gold": "dt -= datetime.timedelta(hours=5)", "clean_code": "dt -= datetime.timedelta(hours=5)"}
{"question_id": "13496087-84", "gold": "random.randint(100000000000, 999999999999)", "clean_code": "random.randint(0, 12)"}
{"question_id": "13496087-95", "gold": "'%0.12d' % random.randint(0, 999999999999)", "clean_code": "random.randint(0, 12)"}
{"question_id": "11709079-81", "gold": "page = urllib.request.urlopen('http://www.google.com/') soup = BeautifulSoup(page)", "clean_code": "soup = BeautifulSoup('http://www.google.com/', 'lxml')"}
{"question_id": "1892339-46", "gold": "root.lift()", "clean_code": "root.jump_to_front()"}
{"question_id": "1823058-26", "gold": "'{:,}'.format(value)", "clean_code": "print('{0:.2f}'.format(value))"}
{"question_id": "14406214-5", "gold": "ax.xaxis.set_label_position('top')", "clean_code": "ax.set_xlabel('X')"}
{"question_id": "14406214-43", "gold": "ax.xaxis.tick_top()", "clean_code": "ax.set_xlabel('Move x-axis to top')"}
{"question_id": "10565598-66", "gold": "numpy.in1d(b, a).all()", "clean_code": "b.all(a == a, axis=1)"}
{"question_id": "13557937-8", "gold": "list('{0:0b}'.format(8))", "clean_code": "[int(x, 2) for x in '0b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}
{"question_id": "13557937-9", "gold": "[int(x) for x in list('{0:0b}'.format(8))]", "clean_code": "list(int(x, 2) for x in range(8))"}
{"question_id": "311627-76", "gold": "time.strftime('%Y-%m-%d %H:%M')", "clean_code": "print(datetime.datetime.today().strftime('%Y-%m-%d')"}
{"question_id": "3940128-52", "gold": "L[::(-1)]", "clean_code": "L = list(reversed(L) for i in range(len(L))):     pass"}
{"question_id": "3940128-21", "gold": "L.reverse()", "clean_code": "L = list(reversed(L) for i in range(len(L))):     pass"}
{"question_id": "89228-90", "gold": "from subprocess import call", "clean_code": "os.system('ls -l')"}
{"question_id": "89228-91", "gold": "os.system('some_command with args')", "clean_code": "os.system('some_command', *args, shell=True)"}
{"question_id": "89228-25", "gold": "os.system('some_command < input_file | another_command > output_file')", "clean_code": "os.system('some_command < input_file | another_command > output_file')"}
{"question_id": "89228-76", "gold": "stream = os.popen('some_command with args')", "clean_code": "os.system('some_command', *args, shell=True)"}
{"question_id": "89228-97", "gold": "return_code = subprocess.call('echo Hello World', shell=True)", "clean_code": "subprocess.call(['echo Hello World'])"}
{"question_id": "89228-44", "gold": "call(['ls', '-l'])", "clean_code": "os.system('ls -l')"}
{"question_id": "5137497-23", "gold": "os.path.realpath(__file__)", "clean_code": "os.path.dirname(os.path.abspath(__file__))"}
{"question_id": "5137497-33", "gold": "os.path.dirname(path)", "clean_code": "os.path.dirname(path)"}
{"question_id": "5137497-66", "gold": "os.path.realpath(path)", "clean_code": "os.path.realpath(path)"}
{"question_id": "5137497-91", "gold": "dir_path = os.path.dirname(os.path.realpath(__file__))", "clean_code": "os.path.basename(os.path.dirname(__file__))"}
{"question_id": "5137497-76", "gold": "full_path = os.path.realpath(__file__)", "clean_code": "os.path.dirname(os.path.abspath(__file__))"}
{"question_id": "14961562-66", "gold": "struct.unpack('11B', s)", "clean_code": "[int(x, 16) for x in s.decode('hex')]"}
{"question_id": "19738169-65", "gold": "df['DateStr'] = df['DateObj'].dt.strftime('%d%m%Y')", "clean_code": "df['DateStr'] = df['DateObj'].str.replace('T', '')"}
{"question_id": "104420-82", "gold": "print(list(itertools.product([1, 2, 3], [4, 5, 6])))", "clean_code": "[[1, 2, 3], [4, 5, 6]]"}
{"question_id": "104420-100", "gold": "itertools.permutations([1, 2, 3])", "clean_code": "list(itertools.permutations([1, 2, 3]))"}
{"question_id": "19781609-19", "gold": "df.to_csv('filename.csv', header=False)", "clean_code": "df.to_csv(filename.csv, skiprows=1)"}
{"question_id": "1406145-57", "gold": "root.destroy()", "clean_code": "root.delete('all')"}
{"question_id": "2225564-15", "gold": "files = [f for f in os.listdir('.') if re.match('[0-9]+.*\\\\.jpg', f)]", "clean_code": "files = [f for f in os.listdir('.') if f.startswith('0x') and f.endswith('.jpg')]"}
{"question_id": "30406725-90", "gold": "df.pivot(index='order', columns='sample')", "clean_code": "pd.pivot(df, index=['order','sample'], name='sample')"}
{"question_id": "18229082-25", "gold": "pickle.load(open('afile', 'rb'))", "clean_code": "pickle.dump(obj, open('afile', 'rb'))"}
{"question_id": "3329386-17", "gold": "re.match('(.*?[.?!](?:\\\\s+.*?[.?!]){0,1})', phrase).group(1)", "clean_code": "[s[0] for s in phrase if not s.endswith('.') or not s.endswith('?')]"}
{"question_id": "22733642-1", "gold": "self.writer.writerow([str(s).encode('utf-8') for s in row])", "clean_code": "writer = io.StringIO(open('output.csv', 'wb'))"}
{"question_id": "13114512-57", "gold": "data.set_index('Date').diff()", "clean_code": "data.diff(axis=1, axis=1)"}
{"question_id": "28901311-21", "gold": "np.where(np.in1d(A, B))[0]", "clean_code": "np.argwhere(np.in1d(A, B, assume_unique=False))"}
{"question_id": "18102109-63", "gold": "session.query(Task).filter(Task.time_spent > timedelta(hours=3)).all()", "clean_code": "db.session.query(Task, where.time_spent > datetime.timedelta(hours=3))"}
{"question_id": "415511-22", "gold": "datetime.datetime.now()", "clean_code": "datetime.datetime.now()"}
{"question_id": "415511-29", "gold": "datetime.datetime.now().time()", "clean_code": "time.ctime()"}
{"question_id": "415511-26", "gold": "strftime('%Y-%m-%d %H:%M:%S', gmtime())", "clean_code": "time.strftime('%Y-%m-%dT%H:%M:%SZ')"}
{"question_id": "415511-14", "gold": "str(datetime.now())", "clean_code": "time.strftime('%Y-%m-%dT%H:%M:%SZ')"}
{"question_id": "415511-33", "gold": "datetime.datetime.time(datetime.datetime.now())", "clean_code": "time.ctime()"}
{"question_id": "32283692-10", "gold": "np.zeros((6, 9, 20)) + np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])[(None), :, (None)]", "clean_code": "np.vstack([1, 2, 3, 4, 5, 6, 7, 8, 9])"}
{"question_id": "32283692-46", "gold": "np.zeros((6, 9, 20)) + np.array([1, 2, 3, 4, 5, 6, 7, 8, 9]).reshape((1, 9, 1))", "clean_code": "numpy.vstack([1, 2, 3, 4, 5, 6, 7, 8, 9], axis=1)"}
{"question_id": "36542169-84", "gold": "pd.concat([df.head(1), df.tail(1)])", "clean_code": "df.groupby(level=1, as_index=False)[:-1]"}
{"question_id": "2803852-74", "gold": "datetime.datetime.strptime('24052010', '%d%m%Y').date()", "clean_code": "datetime.datetime.strptime('24052010', '%d%m%Y')"}
{"question_id": "39719140-55", "gold": "np.flatnonzero(x).mean()", "clean_code": "df.groupby(axis=1).mean(axis=1)"}
{"question_id": "5508352-50", "gold": "a[tuple(b)]", "clean_code": "np.in1d(a, b, axis=1)"}
{"question_id": "2233917-10", "gold": "tuple(map(int, input().split(',')))", "clean_code": "[int(x) for x in input()]"}
{"question_id": "2233917-8", "gold": "tuple(int(x.strip()) for x in input().split(','))", "clean_code": "map(int, user.split())"}
{"question_id": "10998621-33", "gold": "ax.set_xticklabels(ax.xaxis.get_majorticklabels(), rotation=45)", "clean_code": "ax.set_xticklabels(np.rot90(ax, 45))"}
{"question_id": "40517350-9", "gold": "df.groupby('STNAME')['COUNTY_POP'].agg(lambda x: x.nlargest(3).sum())", "clean_code": "df.groupby('STNAME').groupby('COUNTY_POP').sum(3)"}
{"question_id": "28664103-14", "gold": "pd.pivot_table(df, index=df.index.date, columns=df.index.time, values='Close')", "clean_code": "df.groupby(['Close'], axis=1)"}
{"question_id": "8192379-98", "gold": "a.fromlist([int(val) for val in stdin.read().split()])", "clean_code": "a = [int(i) for i in sys.stdin.readlines()]"}
{"question_id": "13237941-54", "gold": "sorted(yourdata, reverse=True)", "clean_code": "yourdata = list(yourdata[::-1])"}
{"question_id": "13237941-56", "gold": "sorted(yourdata, key=lambda d: d.get('key', {}).get('subkey'), reverse=True)", "clean_code": "yourdata.sort(key=lambda x: x['subkey'])"}
{"question_id": "13237941-14", "gold": "yourdata.sort(key=lambda e: e['key']['subkey'], reverse=True)", "clean_code": "yourdata.sort(key=lambda x: x['key'], reverse=True)"}
{"question_id": "15548506-61", "gold": "networkx.draw_networkx_labels(G, pos, labels)", "clean_code": "G.add_node(labels, pos, bbox_inches='tight')"}
{"question_id": "7287996-89", "gold": "os.path.commonprefix(['/usr/var', '/usr/var2/log'])", "clean_code": "os.path.commonprefix(os.path.join(os.path.dirname(__file__), '/usr/var', '/usr/var2/log'))"}
{"question_id": "7287996-17", "gold": "print(os.path.relpath('/usr/var/log/', '/usr/var'))", "clean_code": "os.path.relpath('/usr/var', '/usr/var/log/')"}
{"question_id": "14925239-71", "gold": "getattr(getattr(myobject, 'id', None), 'number', None)", "clean_code": "number = myobject.id.number"}
{"question_id": "41469647-32", "gold": "np.einsum('ij,kj->jik', X, X)", "clean_code": "np.vstack((a, b)).reshape(-1, 2)"}
{"question_id": "32292554-35", "gold": "itertools.product(list(range(2)), repeat=4)", "clean_code": "[(i, j) for i, j in enumerate(itertools.combinations(list(range(4)), 3))]"}
{"question_id": "3166619-87", "gold": "re.match('\\\\$[0-9]+[^\\\\$]*$', '$1 off delicious $5 ham.')", "clean_code": "re.findall('\\\\$[0-9]+[^\\\\$]*$', '$1 off delicious $5 ham.')"}
{"question_id": "13628725-82", "gold": "random.sample(range(1, 50), 6)", "clean_code": "random.randint(1, 50)"}
{"question_id": "13628725-59", "gold": "random.sample(range(1, 50), 6)", "clean_code": "print(random.randint(1, 49))"}
{"question_id": "15940280-74", "gold": "datetime.utcnow()", "clean_code": "time.mktime(datetime.datetime.utcnow())"}
{"question_id": "12280143-55", "gold": "os.chdir('..')", "clean_code": "os.chdir(os.path.dirname(__file__))"}
{"question_id": "15457504-91", "gold": "canvas.create_text(x, y, font=('Purisa', 12), text=k)", "clean_code": "k.setFont('Purisa', 12)"}
{"question_id": "41946927-22", "gold": "pd.concat([pd.DataFrame(l) for l in my_list], axis=1).T", "clean_code": "pd.concat([df for df in my_list])"}
{"question_id": "8214932-71", "gold": "'one' in list(d.values())", "clean_code": "any(one in d for one, v in list(d.items()) if v == one)"}
{"question_id": "8214932-94", "gold": "'one' in iter(d.values())", "clean_code": "('one' in d)"}
{"question_id": "7125009-76", "gold": "pyplot.legend(loc=2, fontsize='x-small')", "clean_code": "plt.setp(legend.get_position(), bbox_inches='upper-left')"}
{"question_id": "7125009-57", "gold": "plot.legend(loc=2, prop={'size': 6})", "clean_code": "plt.setp(legend.get_title(), fontsize='6')"}
{"question_id": "8270092-77", "gold": "sentence.replace(' ', '')", "clean_code": "sentence = re.sub('(?<!\\\\S) +(?!\\\\S)', '', sentence)"}
{"question_id": "8270092-68", "gold": "pattern = re.compile('\\\\s+') sentence = re.sub(pattern, '', sentence)", "clean_code": "sentence = re.sub('(?<!\\\\S) +(?!\\\\S)', '', sentence)"}
{"question_id": "8270092-97", "gold": "sentence.strip()", "clean_code": "sentence = re.sub('(?<!\\\\S) +(?!\\\\S)', '', sentence)"}
{"question_id": "8270092-87", "gold": "sentence = re.sub('\\\\s+', '', sentence, flags=re.UNICODE)", "clean_code": "sentence = re.sub('[^A-Za-z0-9]', '', sentence)"}
{"question_id": "8270092-31", "gold": "sentence = ''.join(sentence.split())", "clean_code": "sentence = re.sub('[^A-Za-z0-9]', '', sentence)"}
{"question_id": "14591855-94", "gold": "df1 = pd.read_hdf('/home/.../data.h5', 'firstSet')", "clean_code": "df = pd.read_hdf('/home/.../data.h5', firstSet=['firstSet'])"}
{"question_id": "8369219-15", "gold": "str = open('very_Important.txt', 'r').read()", "clean_code": "s = open('very_Important.txt', 'r')"}
{"question_id": "19445682-35", "gold": "urlfetch.fetch(url, deadline=10 * 60)", "clean_code": "urllib.request.urlretrieve(url, headers={'User-Agent': 'Imaplib'})"}
{"question_id": "6250046-45", "gold": "urlparse.urldefrag('http://www.address.com/something#something')", "clean_code": "url = urllib.parse.unquote(url)"}
{"question_id": "9849192-97", "gold": "sorted(iter(mydict.items()), key=itemgetter(1), reverse=True)", "clean_code": "sorted(list(mydict.items()), key=lambda x: x[1])"}
{"question_id": "13279399-43", "gold": "first_name = request.args.get('firstname')", "clean_code": "request.variables['firstname']"}
{"question_id": "13279399-5", "gold": "first_name = request.form.get('firstname')", "clean_code": "request.form['firstname']"}
{"question_id": "3278850-59", "gold": "txt = open('file.txt').read()", "clean_code": "txt = open('file.txt', 'r')"}
{"question_id": "14043080-28", "gold": "(datetime.datetime.utcnow() - datetime.timedelta(hours=11)).year", "clean_code": "year = datetime.datetime.utcnow().year"}
{"question_id": "687295-63", "gold": "Entry.objects.filter(~Q(id=3))", "clean_code": "Entry.objects.filter(id=3)"}
{"question_id": "19011613-15", "gold": "soup.find_all('div', class_='crBlock ')", "clean_code": "list(soup.findAll('div')).sort(key=lambda x: x[0].tag)"}
{"question_id": "4296249-87", "gold": "struct.unpack('BBB', rgbstr.decode('hex'))", "clean_code": "rgbtuple = (ord(c) for c in rgbstr.decode('hex'))"}
{"question_id": "5864271-27", "gold": "\"\"\"\"\"\".join(reversed([a[i:i + 2] for i in range(0, len(a), 2)]))", "clean_code": "\"\"\"\"\"\".join(a[::-2:] if len(a) % 2 else a)"}
{"question_id": "73663-61", "gold": "sys.exit()", "clean_code": "subprocess.call(['shutdown', '/r'])"}
{"question_id": "73663-36", "gold": "quit()", "clean_code": "subprocess.call(['shutdown', '/r'])"}
{"question_id": "73663-66", "gold": "sys.exit('some error message')", "clean_code": "sys.exit(1)"}
{"question_id": "21974169-23", "gold": "con.commit()", "clean_code": "db.session.commit()"}
{"question_id": "11269575-66", "gold": "subprocess.check_output(['espeak', text], stderr=subprocess.STDOUT)", "clean_code": "subprocess.call(['espeak', text])"}
{"question_id": "1094717-63", "gold": "int(Decimal(s))", "clean_code": "int(s.replace('.', ''))"}
{"question_id": "1094717-69", "gold": "int(s.split('.')[0])", "clean_code": "int(''.join(str.split('.')))"}
{"question_id": "31957364-53", "gold": "np.einsum('ijk,ikl->ijl', A, B)", "clean_code": "numpy.dot(numpy.dot(numpy.dot(numpy.dot(A, B), A))"}
{"question_id": "1196074-89", "gold": "subprocess.Popen(['rm', '-r', 'some.file'])", "clean_code": "subprocess.call('rm -r some.file', shell=True)"}
{"question_id": "19100540-33", "gold": "df.round({'Alabama_exp': 2, 'Credit_exp': 3})", "clean_code": "df['Alabama_exp'] = df['Credit_exp'].round(2, 3)"}
{"question_id": "59825-84", "gold": "e = next(iter(s))", "clean_code": "s.pop()"}
{"question_id": "5868374-42", "gold": "dateobj = datetime.datetime.strptime(datestr, '%Y-%m-%d').date()", "clean_code": "datetime.strptime(datestr, '%Y-%m-%d')"}
{"question_id": "208894-61", "gold": "a = open('pdf_reference.pdf', 'rb').read().encode('base64')", "clean_code": "base64.b64encode(pdf_reference.pdf)"}
{"question_id": "20796355-35", "gold": "os.chdir('chapter3')", "clean_code": "os.chdir('chapter3')"}
{"question_id": "20796355-88", "gold": "os.chdir('C:\\\\Users\\\\username\\\\Desktop\\\\headfirstpython\\\\chapter3')", "clean_code": "os.chdir()"}
{"question_id": "20796355-81", "gold": "os.chdir('.\\\\chapter3')", "clean_code": "os.chdir()"}
{"question_id": "1299855-22", "gold": "br.form.add_file(open(filename), 'text/plain', filename)", "clean_code": "response = requests.post('http://mechanize.com/mechanize.php', data=open('file.txt', 'rb'), headers={'Content-Type': 'application/octet-stream'})"}
{"question_id": "2317134-81", "gold": "re.match('[a-zA-Z][\\\\w-]*\\\\Z', 'A\\n')", "clean_code": "re.findall('[a-zA-Z][\\\\w-]*\\\\Z', 'A\\n')"}
{"question_id": "2317134-43", "gold": "re.match('[a-zA-Z][\\\\w-]*$', '!A_B')", "clean_code": "re.findall('[a-zA-Z][\\\\w-]*$', '!A_B')"}
{"question_id": "13794532-6", "gold": "soup.find_all('div', class_=re.compile('comment-'))", "clean_code": "[t for t in soup.findAll('div', class_name='comment-') if t.class_name == 'comment-']"}
{"question_id": "741877-37", "gold": "plt.cla()", "clean_code": "plt.clear()"}
{"question_id": "13156395-50", "gold": "json.load(codecs.open('sample.json', 'r', 'utf-8-sig'))", "clean_code": "f = codecs.open('sample.json', 'r', encoding='utf-8-sig')"}
{"question_id": "13156395-75", "gold": "json.loads(open('sample.json').read().decode('utf-8-sig'))", "clean_code": "json.load(open('sample.json', 'rb'), encoding='utf8')"}
{"question_id": "13022385-76", "gold": "sys.exit(0)", "clean_code": "os.system('quit')"}
{"question_id": "8751653-82", "gold": "struct.unpack('d', struct.pack('Q', int(s2, 0)))[0]", "clean_code": "float(s2.decode('string_escape'))"}
{"question_id": "8751653-25", "gold": "float(int('-0b1110', 0))", "clean_code": "float('-0b1110')"}
{"question_id": "8751653-54", "gold": "struct.unpack('d', b8)[0]", "clean_code": "float(b8[::-1])"}
{"question_id": "4789021-9", "gold": "return user.groups.filter(name='Member').exists()", "clean_code": "current_user.is_in_group('Member')"}
{"question_id": "4789021-88", "gold": "return user.groups.filter(name__in=['group1', 'group2']).exists()", "clean_code": "user.is_in_group(['group1', 'group2'])"}
{"question_id": "25823608-56", "gold": "np.where((vals == (0, 1)).all(axis=1))", "clean_code": "np.argwhere(np.all(np.in1d(vals, (0, 1)), (0, 1)).any(axis=1)"}
{"question_id": "509742-28", "gold": "os.chdir(os.path.dirname(__file__))", "clean_code": "os.chdir(os.path.dirname(os.path.abspath(__file__)))"}
{"question_id": "31385363-83", "gold": "df.toPandas().to_csv('mycsv.csv')", "clean_code": "df.to_csv('mycsv.csv')"}
{"question_id": "31385363-50", "gold": "df.write.csv('mycsv.csv')", "clean_code": "df.to_csv('mycsv.csv')"}
{"question_id": "8092877-26", "gold": "zip(*[(1, 4), (2, 5), (3, 6)])", "clean_code": "zip(*[(1, 4), (2, 5), (3, 6)])"}
{"question_id": "8092877-98", "gold": "[list(group) for key, group in itertools.groupby(data, operator.itemgetter(1))]", "clean_code": "[(t[0], t[1]) for t in zip(*data)]"}
{"question_id": "23748995-25", "gold": "df['a'].values.tolist()", "clean_code": "df['a'] = df['a'].str.tolist()"}
{"question_id": "23748995-42", "gold": "df['a'].tolist()", "clean_code": "df['a'].values"}
{"question_id": "20205455-79", "gold": "soup = BeautifulSoup(response.read().decode('utf-8'))", "clean_code": "soup = BeautifulSoup(response.text, 'html.parser')"}
{"question_id": "7429118-70", "gold": "a[np.arange(len(a)) != 3]", "clean_code": "a[:, (3)].nonzero()"}
{"question_id": "8217613-41", "gold": "subprocess.check_output('echo \"foo\"', shell=True)", "clean_code": "print(subprocess.check_output('echo \"foo\")"}
{"question_id": "14673394-12", "gold": "df['Date'].map(lambda t: t.date()).unique()", "clean_code": "df.set_index(['Date'], inplace=True)"}
{"question_id": "3328012-17", "gold": "os.path.commonprefix(['/the/dir/', os.path.realpath(filename)]) == '/the/dir/'", "clean_code": "print(os.path.isdir('/the/dir/' + filename))"}
{"question_id": "3457673-86", "gold": "dict(x[1:] for x in reversed(myListOfTuples))", "clean_code": "dict((t[0], t[1]) for t in myListOfTuples)"}
{"question_id": "652291-62", "gold": "list.sort(key=lambda item: item['date'], reverse=True)", "clean_code": "sorted(list, key=lambda x: x['date'], reverse=True)"}
{"question_id": "11041411-88", "gold": "df.to_csv('mydf.tsv', sep='\\t')", "clean_code": "df.to_csv('mydf.tsv', index=True)"}
{"question_id": "33435418-32", "gold": "Counter([1, 2, 2, 2, 3]) - Counter([1, 2])", "clean_code": "[i for i in [1, 2, 2, 2, 2, 3] if i!= [1, 2]]"}
{"question_id": "977491-44", "gold": "difflib.SequenceMatcher(None, file1.read(), file2.read())", "clean_code": "print(difflib.cmp(file1, file2, fromfile='', tofile='', tofiledate='', shallow=True))"}
{"question_id": "15148684-45", "gold": "min(list, key=lambda x: float('inf') if math.isnan(x[1]) else x[1])", "clean_code": "max(list, key=lambda x: float(x[1]) if not isinstance(x[0], string) else float(x[0])"}
{"question_id": "16127862-90", "gold": "str_list = [tuple('{0:.8e}'.format(flt) for flt in sublist) for sublist in lst]", "clean_code": "str_list = [(t[0], t[1]) for t in lst]"}
{"question_id": "16127862-87", "gold": "str_list = [['{0:.8e}'.format(flt) for flt in sublist] for sublist in lst]", "clean_code": "str_list = [str(i) for i in lst]"}
{"question_id": "2111163-71", "gold": "A[[0, 1], [0, 1]]", "clean_code": "[A[i][0], A[i][1]"}
{"question_id": "2111163-33", "gold": "a[np.arange(3), (0, 1, 0)]", "clean_code": "a[np.in1d(a, [1, 2, 3], axis=1)]"}
{"question_id": "24748445-94", "gold": "soup.find_all(['a', 'div'])", "clean_code": "[element for element in soup.findAll('a') for element in soup.findAll('div')]"}
{"question_id": "931092-70", "gold": "'hello world'[::(-1)]", "clean_code": "\"\"\"hello world\"\"\".decode('string_escape')"}
{"question_id": "931092-64", "gold": "s[::(-1)]", "clean_code": "s = list(itertools.chain.from_iterable(s))"}
{"question_id": "931092-5", "gold": "''.join(reversed('foo'))", "clean_code": "\"\"\"foo\"\"\".decode('string_escape')"}
{"question_id": "931092-74", "gold": "''.join(reversed(string))", "clean_code": "string = ''.join(map(str, reversed(string)))"}
{"question_id": "931092-65", "gold": "'foo'[::(-1)]", "clean_code": "\"\"\"foo\"\"\".decode('string_escape')"}
{"question_id": "931092-99", "gold": "a_string[::(-1)]", "clean_code": "\"\"\"\"\"\".join(a_string.rsplit(' ', 1)[::-1])"}
{"question_id": "931092-20", "gold": "def reversed_string(a_string):     return a_string[::(-1)]", "clean_code": "\"\"\"\"\"\".join(a_string.rsplit(' ', 1)[::-1])"}
{"question_id": "931092-77", "gold": "''.join(reversed(s))", "clean_code": "\"\"\"\"\"\".join(s.rsplit(' ', 1)[::-1])"}
{"question_id": "163542-7", "gold": "p = Popen(['grep', 'f'], stdout=PIPE, stdin=PIPE, stderr=STDOUT) grep_stdout = p.communicate(input='one\\ntwo\\nthree\\nfour\\nfive\\nsix\\n')[0]", "clean_code": "subprocess.call(['grep f', b'one\\ntwo\\nthree\\nfour\\nfive\\nsix\\n'])"}
{"question_id": "163542-94", "gold": "p = subprocess.Popen(['grep', 'f'], stdout=subprocess.PIPE, stdin=subprocess.PIPE) p.stdin.write('one\\ntwo\\nthree\\nfour\\nfive\\nsix\\n') p.communicate()[0] p.stdin.close()", "clean_code": "subprocess.call(['grep f', 'one\\ntwo\\nthree\\nfour\\nfive\\nsix\\n'])"}
{"question_id": "18594469-11", "gold": "df.div(df.sum(axis=1), axis=0)", "clean_code": "df.apply(lambda x: x.normalize(axis=1))"}
{"question_id": "961632-89", "gold": "str(i)", "clean_code": "str(i)"}
{"question_id": "961632-44", "gold": "a.__str__()", "clean_code": "a.decode('string_escape')"}
{"question_id": "961632-33", "gold": "str(a)", "clean_code": "a.decode('string_escape')"}
{"question_id": "27318022-32", "gold": "result = sys.stdin.read()", "clean_code": "result = os.stdin.readline()"}
{"question_id": "40055835-26", "gold": "A[np.all(np.any(A - B[:, (None)], axis=2), axis=0)]", "clean_code": "np.delete(A, B, axis=1)"}
{"question_id": "41513324-64", "gold": "df.query('index < @start_remove or index > @end_remove')", "clean_code": "df.drop(df.index < start_remove or df.index > end_remove, axis=1)"}
{"question_id": "41513324-67", "gold": "df.loc[(df.index < start_remove) | (df.index > end_remove)]", "clean_code": "df.drop(start_remove, end_remove, axis=1)"}
{"question_id": "8218032-86", "gold": "numpy.where(mask)", "clean_code": "np.where(np.all(a == mask, axis=1) == mask)"}
{"question_id": "32533944-71", "gold": "df.to_csv('Result.csv', index=False, sep=' ')", "clean_code": "pd.read_csv('Result.csv', sep='\\t')"}
{"question_id": "20638006-85", "gold": "pd.DataFrame(d)", "clean_code": "pd.concat([d[0], d[1]])"}
{"question_id": "1883604-86", "gold": "gzip.open('file.gz', 'rt', encoding='utf-8')", "clean_code": "f = gzip.open('file.gz', 'r', gzip.GZIP_DEFLATED)"}
{"question_id": "29983106-25", "gold": "driver.get('http://www.google.com.br')", "clean_code": "driver.find_element_by_link_text('http://www.python.org')"}
{"question_id": "3437059-20", "gold": "if ('blah' not in somestring):     pass", "clean_code": "\"\"\"blah\"\"\" in somestring"}
{"question_id": "3437059-17", "gold": "if (needle in haystack):     pass", "clean_code": "print(re.search('\\\\bneedle\\\\b', needle))"}
{"question_id": "3437059-17", "gold": "string.find('substring')", "clean_code": "if'substring' in string:     pass"}
{"question_id": "3437059-83", "gold": "if (s.find('is') == (-1)):     print(\"No 'is' here!\") else:     print(\"Found 'is' in the string.\")", "clean_code": "s.startswith('is')"}
{"question_id": "3061-93", "gold": "globals()['myfunction']()", "clean_code": "myfunction()"}
{"question_id": "3061761-63", "gold": "a.shape", "clean_code": "a.shape[0]"}
{"question_id": "3061761-55", "gold": "N.shape(a)", "clean_code": "a.shape[0]"}
{"question_id": "3061761-89", "gold": "N.shape(a)", "clean_code": "a.shape[0]"}
{"question_id": "3061761-31", "gold": "a.shape", "clean_code": "a.shape[0]"}
{"question_id": "13291539-54", "gold": "struct.unpack('f', struct.pack('f', 0.00582811585976))", "clean_code": "float('0.00582811585976')"}
{"question_id": "6280978-9", "gold": "[dict(y) for y in set(tuple(x.items()) for x in d)]", "clean_code": "list(set(item) for item in item.values())"}
{"question_id": "7745260-45", "gold": "words = open('myfile').read().split()", "clean_code": "words = [word.strip() for word in open('myfile')]"}
{"question_id": "7717380-65", "gold": "a = np.array(a)", "clean_code": "numpy.asarray(a)"}
{"question_id": "9304908-37", "gold": "Blog.objects.filter(pk__in=[1, 4, 7])", "clean_code": "query = models.Query(where=('1, 4, 7')).values('1, 4, 7')"}
{"question_id": "319426-66", "gold": "if (string1.lower() == string2.lower()):     print('The strings are the same (case insensitive)') else:     print('The strings are not the same (case insensitive)')", "clean_code": "\"\"\"\"\"\".join(string1 + string2)"}
{"question_id": "319426-3", "gold": "if (string1.lower() == string2.lower()):     pass", "clean_code": "string1.lower() == string2.lower()"}
{"question_id": "319426-84", "gold": "(string1.lower() == string2.lower())", "clean_code": "string1.lower() == string2.lower()"}
{"question_id": "319426-70", "gold": "(first.lower() == second.lower())", "clean_code": "\"\"\"\"\"\".join(first + second)"}
{"question_id": "319426-18", "gold": "(first.upper() == second.upper())", "clean_code": "\"\"\"\"\"\".join(first + second)"}
{"question_id": "15455388-38", "gold": "pd.concat(map(pd.DataFrame, iter(d.values())), keys=list(d.keys())).stack().unstack(0)", "clean_code": "pd.concat([d['value'] for d in d.values])"}
{"question_id": "17679089-100", "gold": "df.groupby(['col5', 'col2']).size().groupby(level=1).max()", "clean_code": "df.groupby('col5').count('col2')"}
{"question_id": "9396706-78", "gold": "getattr(your_obj, x)", "clean_code": "x = getattr(your_obj, 'x')"}
{"question_id": "3743222-35", "gold": "datetime.datetime.now().date()", "clean_code": "datetime.datetime.combine(datetime.datetime.today(), datetime.datetime.min, datetime.datetime.max)"}
{"question_id": "3743222-73", "gold": "datetime.datetime.now().date()", "clean_code": "datetime.datetime.strptime(datetime.datetime.now(), '%Y-%m-%dT%H:%M:%SZ')"}
{"question_id": "12496531-86", "gold": "A = np.array(sorted(A, key=tuple))", "clean_code": "A.sort(axis=1, axis=0)"}
{"question_id": "6797984-32", "gold": "s.lower()", "clean_code": "s.lower()"}
{"question_id": "6797984-49", "gold": "s.decode('utf-8').lower()", "clean_code": "s.decode('utf-8')"}
{"question_id": "2631935-11", "gold": "session.query(User).filter_by(id=123).update({'name': 'Bob Marley'})", "clean_code": "session.update('name', 'Bob Marley', id=123)"}
{"question_id": "13627865-82", "gold": "globals()['something'] = 'bob'", "clean_code": "something = {}"}
{"question_id": "14766194-35", "gold": "any(np.equal(a, [1, 2]).all(1))", "clean_code": "np.all([1, 2])"}
{"question_id": "18200052-13", "gold": "np.zeros((3, 3)).ravel()", "clean_code": "np.reshape(a, (3, 3))"}
{"question_id": "15579649-73", "gold": "numpy.array([(key, val) for key, val in result.items()], dtype)", "clean_code": "result = numpy.asarray(result)"}
{"question_id": "2823472-99", "gold": "sys.exit(0)", "clean_code": "os.system('quit')"}
{"question_id": "36139-44", "gold": "mylist.sort(key=lambda x: x.lower())", "clean_code": "mylist.sort(key=lambda x: sorted(list(x.items()), reverse=True))"}
{"question_id": "36139-62", "gold": "mylist.sort(key=str.lower)", "clean_code": "mylist.sort(key=operator.itemgetter(1), reverse=True)"}
{"question_id": "36139-23", "gold": "mylist.sort()", "clean_code": "mylist.sort(key=operator.itemgetter('name'))"}
{"question_id": "36139-32", "gold": "list.sort()", "clean_code": "sorted(list, key=operator.itemgetter('name'))"}
{"question_id": "5280178-72", "gold": "exec(compile(open('file.py').read(), 'file.py', 'exec'))", "clean_code": "os.system('python file.py')"}
{"question_id": "18351951-41", "gold": "\"\"\"test.mp3\"\"\".endswith(('.mp3', '.avi'))", "clean_code": "\"\"\"test.mp3\"\"\".endswith(('.mp3', '.avi'))"}
{"question_id": "826284-77", "gold": "struct.unpack('h', pS[0:2])", "clean_code": "int(pS[::2])"}
{"question_id": "3668964-35", "gold": "print(all(word[0].isupper() for word in words))", "clean_code": "all(word.isupper() for word in words)"}
{"question_id": "41154648-81", "gold": "df.to_sparse(0)", "clean_code": "df.to_sparse('i')"}
{"question_id": "1514553-90", "gold": "variable = []", "clean_code": "variable = []"}
{"question_id": "1514553-71", "gold": "intarray = array('i')", "clean_code": "a = [i]"}
{"question_id": "610883-92", "gold": "if hasattr(a, 'property'):     pass", "clean_code": "hasattr(a, 'property')"}
{"question_id": "610883-9", "gold": "if hasattr(a, 'property'):     pass", "clean_code": "hasattr(a, 'property')"}
{"question_id": "610883-68", "gold": "getattr(a, 'property', 'default value')", "clean_code": "a.__dict__['property'] = a.__dict__['default value']"}
{"question_id": "13902805-83", "gold": "\"\"\"\"\"\".join(list(OrderedDict.fromkeys('aaabcabccd').keys()))", "clean_code": "[c for c in set(str(i) if c not in 'aaabcabccd']) if c not in 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz']"}
{"question_id": "13902805-92", "gold": "list(set('aaabcabccd'))", "clean_code": "[c for c in set(set(aaabcabccd)) if c.isdigit()]"}
{"question_id": "13902805-87", "gold": "\"\"\"\"\"\".join(set('aaabcabccd'))", "clean_code": "list(set(set(range(len(a)))) for a in a.split())"}
{"question_id": "674764-8", "gold": "x.find('World')", "clean_code": "[i for i in x if 'World' in i]"}
{"question_id": "674764-33", "gold": "x.find('Aloha')", "clean_code": "x.find('Aloha')"}
{"question_id": "674764-19", "gold": "'sdfasdf'.index('cc')", "clean_code": "[i for i in'sdfasdf.rfind('cc') if 'cc' in i]"}
{"question_id": "674764-45", "gold": "'sdfasdf'.index('df')", "clean_code": "print(sdfasdf.find('df') + 1)"}
{"question_id": "674764-64", "gold": "str.find('a')", "clean_code": "str.find('a')"}
{"question_id": "674764-91", "gold": "str.find('g')", "clean_code": "str.find('g')"}
{"question_id": "674764-3", "gold": "str.find('s', 11)", "clean_code": "str.find('s', 11)"}
{"question_id": "674764-47", "gold": "str.find('s', 15)", "clean_code": "str.find('s', 15)"}
{"question_id": "674764-8", "gold": "str.find('s', 16)", "clean_code": "str.find('^s', 16)"}
{"question_id": "674764-5", "gold": "str.find('s', 11, 14)", "clean_code": "str.find('s', 11, 14)"}
{"question_id": "10194713-64", "gold": "sorted(iter(cityPopulation.items()), key=lambda k_v: k_v[1][2], reverse=True)", "clean_code": "cityPopulation.sort(key=operator.itemgetter(2))"}
{"question_id": "10194713-38", "gold": "sorted(list(u.items()), key=lambda v: v[1])", "clean_code": "sorted(u, key=operator.itemgetter(1))"}
{"question_id": "10194713-1", "gold": "sorted(list(d.items()), key=lambda k_v: k_v[1], reverse=True)", "clean_code": "sorted(list(d.items()), key=lambda x: x[1])"}
{"question_id": "10194713-5", "gold": "sorted(list(d.items()), key=lambda k_v: k_v[1])", "clean_code": "sorted(d, key=lambda x: x[1])"}
{"question_id": "179369-97", "gold": "sys.exit(0)", "clean_code": "subprocess.call(['shutdown', '/r'])"}
{"question_id": "179369-62", "gold": "sys.exit('aa! errors!')", "clean_code": "raise Exception('aa! errors!')"}
{"question_id": "179369-47", "gold": "sys.exit()", "clean_code": "os.system('shutdown')"}
{"question_id": "19779790-35", "gold": "datetime.datetime.now() - datetime.timedelta(days=1)", "clean_code": "datetime.datetime.today()"}
{"question_id": "37934969-37", "gold": "df = pd.DataFrame.from_dict({k: v for k, v in list(nvalues.items()) if k != 'y3'})", "clean_code": "df = pd.concat([nvalues.values() for nvalues in nvalues.values()])"}
{"question_id": "11066874-58", "gold": "print(soup.find('a', href=re.compile('.*follow\\\\?page.*')))", "clean_code": "print(urllib.parse.urldefrag('http://www.cwi.nl:80/%7Eguido/Python.html', 'follow?page')[0])"}
{"question_id": "18461623-27", "gold": "np.mean(np.array([old_set, new_set]), axis=0)", "clean_code": "np.concatenate((old_set, new_set))"}
{"question_id": "4523551-62", "gold": "bin(ord('P'))", "clean_code": "print('P'.encode('ascii'))"}
{"question_id": "11399384-83", "gold": "{k for d in LoD for k in list(d.keys())}", "clean_code": "set([k for k, v in LoD.items() if k in v])"}
{"question_id": "11399384-59", "gold": "set([i for s in [list(d.keys()) for d in LoD] for i in s])", "clean_code": "[k for d in LoD.values() for k in d.keys()]"}
{"question_id": "11399384-52", "gold": "[i for s in [list(d.keys()) for d in LoD] for i in s]", "clean_code": "[k for d in d.values() if isinstance(d, dict)]"}
{"question_id": "13081090-42", "gold": "[int(d) for d in str(bin(x))[2:]]", "clean_code": "[ord(c) for c in x.split('.')]"}
{"question_id": "42012589-82", "gold": "df.groupby(['Month', 'Fruit']).sum().unstack(level=0)", "clean_code": "df.groupby(['Month', 'Fruit'], level=1)"}
{"question_id": "3355822-45", "gold": "requests.get('https://www.mysite.com/', auth=('username', 'pwd'))", "clean_code": "requests.get('https://www.mysite.com/', auth={'username': 'username', 'pwd': 'pwd'})"}
{"question_id": "6510477-50", "gold": "[x for x in file.namelist() if x.endswith('/')]", "clean_code": "[x.split('/')[0] for x in os.walk(file)]"}
{"question_id": "39268928-38", "gold": "str({'a': 1, 'b': 'as df'}).replace(': ', ':').replace(', ', ',')", "clean_code": "\"\"\"{a: 1, 'b': 'as df\"}\"\"\".format(a={'a': 1, 'b': 'as df'})"}
{"question_id": "39268928-72", "gold": "'{' + ','.join('{0!r}:{1!r}'.format(*x) for x in list(dct.items())) + '}'", "clean_code": "print('{0}'.format(dict))"}
{"question_id": "23970693-72", "gold": "json_data = json.loads(json_string)", "clean_code": "json_data = json.loads(json_string)"}
{"question_id": "2759067-52", "gold": "os.rename(src, dst)", "clean_code": "os.rename(src, dst)"}
{"question_id": "16389188-53", "gold": "window.set_position(Gtk.WindowPosition.CENTER)", "clean_code": "pygame.display.center(window)"}
{"question_id": "1391026-74", "gold": "self.request.get('var_name')", "clean_code": "request.params['var_name']"}
{"question_id": "3296499-25", "gold": "theset = set(k.lower() for k in thedict)", "clean_code": "dict((k, v) for k, v in thedict.items())"}
{"question_id": "41463763-99", "gold": "df2['revenue'] = df2.CET.map(df1.set_index('date')['revenue'])", "clean_code": "pd.merge(df1, df2, on='revenue', on='date')"}
{"question_id": "30405804-73", "gold": "os.chdir('C:/Users/Name/Desktop')", "clean_code": "os.chdir('C:/Users/Name/Desktop')"}
{"question_id": "9647586-2", "gold": "{{request.args.get('a')}}", "clean_code": "request.args['a']"}
{"question_id": "6591931-80", "gold": "os.stat('C:\\\\Python27\\\\Lib\\\\genericpath.py').st_size", "clean_code": "print(os.path.getsize('C:\\\\Python27\\\\Lib\\\\genericpath.py'))"}
{"question_id": "5607551-13", "gold": "urllib.parse.quote_plus('string_of_characters_like_these:$#@=?%^Q^$')", "clean_code": "urllib.parse.unquote('string_of_characters_like_these:$#@=?%^Q^$')"}
{"question_id": "439115-86", "gold": "decimal.Decimal(random.randrange(10000)) / 100", "clean_code": "random.randint(0, 1)"}
{"question_id": "3925096-46", "gold": "os.path.basename(os.path.normpath('/folderA/folderB/folderC/folderD/'))", "clean_code": "os.path.splitext(os.path.basename(os.path.abspath(__file__)))"}
{"question_id": "14538885-47", "gold": "list(x.keys()).index('c')", "clean_code": "[i for i, k in enumerate(x.items()) if 'c' in k]"}
{"question_id": "10484261-51", "gold": "[value for key, value in list(programs.items()) if 'new york' in key.lower()]", "clean_code": "[v for k, v in programs.items() if k.lower() == 'new york']"}
{"question_id": "8905864-66", "gold": "urllib.parse.quote(s.encode('utf-8'))", "clean_code": "s.encode('utf-8')"}
{"question_id": "8905864-78", "gold": "urllib.parse.quote_plus('a b')", "clean_code": "urllib.parse.unquote(url, encoding='utf-8')"}
{"question_id": "32751229-20", "gold": "df.groupby(['Country', 'Item_Code'])[['Y1961', 'Y1962', 'Y1963']].sum()", "clean_code": "df.groupby('Country').agg({'Country': 'Y1961', 'Item_code': 'Y1962', 'Item_code': 'Y1963'})"}
{"question_id": "10543303-64", "gold": "sum(((i > 5) for i in j))", "clean_code": "len(j) if j[-5:] > 0:     pass"}
{"question_id": "10543303-81", "gold": "len([1 for i in j if (i > 5)])", "clean_code": "len(j) if j[-5:] > 0:     pass"}
{"question_id": "10543303-37", "gold": "j = np.array(j) sum((j > i))", "clean_code": "len(j) - len(i)"}
{"question_id": "36190533-1", "gold": "np.any(np.in1d(a1, a2))", "clean_code": "any(a1 == a2, axis=1)"}
{"question_id": "9775731-24", "gold": "max(min(my_value, max_value), min_value)", "clean_code": "my_value = max(my_value, min_value, max_value)"}
{"question_id": "14931769-56", "gold": "lst = list(itertools.product([0, 1], repeat=n))", "clean_code": "list(itertools.combinations(a, b) for a, b in zip(a, b) if len(a) == n)"}
{"question_id": "14931769-64", "gold": "lst = map(list, itertools.product([0, 1], repeat=n))", "clean_code": "list(itertools.combinations(a, b) for a, b in zip(a, b) if len(a) == n)"}
{"question_id": "14931769-0", "gold": "bin = [0, 1] [(x, y, z) for x in bin for y in bin for z in bin]", "clean_code": "list(itertools.combinations(3, 2))"}
{"question_id": "14931769-1", "gold": "lst = list(itertools.product([0, 1], repeat=3))", "clean_code": "list(itertools.combinations(3, 2))"}
{"question_id": "6310475-49", "gold": "datetime.datetime.now() + datetime.timedelta(days=1, hours=3)", "clean_code": "datetime.datetime.combine(datetime.now(), datetime.timedelta(days=1, hours=3))"}
{"question_id": "38831808-53", "gold": "struct.unpack('d', binascii.unhexlify('4081637ef7d0424a'))", "clean_code": "float('4081637ef7d0424a')"}
{"question_id": "42387471-14", "gold": "plt.colorbar(im, ax=ax)", "clean_code": "plt.imshow(im, bbox_inches='tight')"}
{"question_id": "28134319-7", "gold": "s[s.find('\\n') + 1:s.rfind('\\n')]", "clean_code": "s.rstrip('\\r\\n')"}
{"question_id": "18470323-13", "gold": "data.loc[:, (list(itertools.product(['one', 'two'], ['a', 'c'])))]", "clean_code": "data.groupby(['a', 'c'], level=1)"}
{"question_id": "18470323-91", "gold": "data.loc[:, ([('one', 'a'), ('one', 'c'), ('two', 'a'), ('two', 'c')])]", "clean_code": "df['a'] and df['c']"}
{"question_id": "10040143-71", "gold": "User.objects.filter(userprofile__level__gte=0)", "clean_code": "Users.objects.filter(userprofile=Users.objects.filter(level__gt=0))"}
{"question_id": "27659153-69", "gold": "[list(g) for _, g in itertools.groupby(test, lambda x: x.split('_')[0])]", "clean_code": "[g for g, test in zip(g, test[::-1]) if test[0]['_'] == '_']"}
{"question_id": "27659153-76", "gold": "[list(g) for _, g in itertools.groupby(test, lambda x: x.partition('_')[0])]", "clean_code": "list(groupby(lambda x: x[0], x[1]))"}
{"question_id": "11336548-53", "gold": "request.POST.get('title', '')", "clean_code": "title = request.POST['title']"}
{"question_id": "20222485-17", "gold": "list(accumulate(list(range(10))))", "clean_code": "list(itertools.combinations(list(range(10)), 2))"}
{"question_id": "16436133-47", "gold": "json.loads(request.POST.get('mydata', '{}'))", "clean_code": "json.dumps({}, ensure_ascii=False)"}
{"question_id": "31950612-15", "gold": "max(test_string.rfind(i) for i in '([{')", "clean_code": "test_string.rfind('([{')"}
{"question_id": "8247792-19", "gold": "\"\"\"foobar\"\"\"[:4]", "clean_code": "re.findall('\\\\b\\\\d+\\\\b', 'foobar', fourthIndex=4)"}
{"question_id": "8247792-29", "gold": "s.rfind('&')", "clean_code": "\"\"\"&\"\"\".join(s.split('&') for s in s.split('&') if s.startswith('&') else s.split('&')"}
{"question_id": "8247792-90", "gold": "s[:s.rfind('&')]", "clean_code": "\"\"\"&\"\"\".join(s.split('&') for s in s.split('&') if s.startswith('&') else s.split('&')"}
{"question_id": "35178812-30", "gold": "ex.groupby(level='A').agg(lambda x: x.index.get_level_values(1).nunique())", "clean_code": "ex.index.value_counts('A')"}
{"question_id": "10346336-28", "gold": "numpy.array([[1, 2], [3, 4]])", "clean_code": "numpy.vstack((a1, a2), axis=0)"}
{"question_id": "2054416-71", "gold": "t = tuple(x[0] for x in s)", "clean_code": "t = (t[0] for t in s)"}
{"question_id": "11205386-94", "gold": "soup.find('meta', {'name': 'City'})['content']", "clean_code": "print(soup.findAll(attrs={'name': 'City'})[0]['content']"}
{"question_id": "39353758-58", "gold": "df.pivot_table(index='saleid', columns='upc', aggfunc='size', fill_value=0)", "clean_code": "df.pivot(index=['upc','saleid'])"}
{"question_id": "16249440-75", "gold": "os.chmod(path, stat.S_IRUSR | stat.S_IRGRP | stat.S_IROTH)", "clean_code": "os.chmod(path, stat.S_IRUSR | stat.S_IRGRP | stat.S_IROTH)"}
{"question_id": "13999850-72", "gold": "df.to_csv(filename, date_format='%Y%m%d')", "clean_code": "df.to_csv(filename, sep='%Y%m%d')"}
{"question_id": "1800187-72", "gold": "b = np.where(np.isnan(a), 0, a)", "clean_code": "np.fill_diagonal(a, 0)"}
{"question_id": "39277638-98", "gold": "np.array([np.arange(3), np.arange(2, -1, -1), np.ones((3,))]).min(axis=0)", "clean_code": "np.argmin(a, axis=1, keepdims=True)"}
{"question_id": "15509617-37", "gold": "datetime.datetime.now().strftime('%a')", "clean_code": "datetime.datetime.strptime(datetime.datetime.today(), '%a %b %d %H:%M:%S %Y')"}
{"question_id": "8519599-86", "gold": "\"\"\"<br/>\"\"\".join([('%s:: %s' % (key, value)) for key, value in list(d.items())])", "clean_code": "\"\"\", \"\"\".join(str(v) for v in list(d.items()))"}
{"question_id": "17071871-46", "gold": "print(df.loc[df['A'] == 'foo'])", "clean_code": "df.loc[df.A == 'foo']"}
{"question_id": "17071871-76", "gold": "df.loc[df['column_name'] != some_value]", "clean_code": "df.loc[df['column_name']!= some_value]"}
{"question_id": "17071871-51", "gold": "df.loc[~df['column_name'].isin(some_values)]", "clean_code": "df.loc[df.column_name!= some_values]"}
{"question_id": "17071871-83", "gold": "df.loc[df['column_name'] == some_value]", "clean_code": "df[df['column_name'] == some_value]"}
{"question_id": "17071871-79", "gold": "print(df.loc[df['B'].isin(['one', 'three'])])", "clean_code": "df.loc[df['B'].str.contains('one') or df['B'].loc[df['B'].str.contains('three')]"}
{"question_id": "739993-25", "gold": "help('modules')", "clean_code": "list(sys.modules)"}
{"question_id": "12362542-44", "gold": "s.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)", "clean_code": "s.setsockopt('SO_REUSEADDR', 1)"}
{"question_id": "4116061-59", "gold": "globals().update(importlib.import_module('some.package').__dict__)", "clean_code": "import some.package"}
{"question_id": "4588628-92", "gold": "numpy.where((x == 0))[0]", "clean_code": "np.argwhere(np.all(np.isnan(x)) == 0)"}
{"question_id": "2428092-52", "gold": "return HttpResponse(json.dumps(response_data), content_type='application/json')", "clean_code": "response_data = json.dumps(response_data, ensure_ascii=False)"}
{"question_id": "10824319-17", "gold": "s.decode('hex')", "clean_code": "s.decode('hex')"}
{"question_id": "10824319-49", "gold": "binascii.a2b_hex(s)", "clean_code": "s.decode('hex')"}
{"question_id": "12655007-87", "gold": "[(x + tuple(y)) for x, y in zip(zip(a, b), c)]", "clean_code": "zip(a, b, c)"}
{"question_id": "10472907-88", "gold": "\"\"\"\"\"\".join('{}{}'.format(key, val) for key, val in sorted(adict.items()))", "clean_code": "\"\"\"\"\"\".join(dict((k, v) for k, v in dict.items()))"}
{"question_id": "10472907-5", "gold": "\"\"\"\"\"\".join('{}{}'.format(key, val) for key, val in list(adict.items()))", "clean_code": "\"\"\"\"\"\".join(dict((k, v) for k, v in dict.items()))"}
{"question_id": "34155829-56", "gold": "np.array(x._data).reshape(x.size[::-1]).T", "clean_code": "numpy.asarray(x)"}
{"question_id": "17731822-88", "gold": "hex(int(''.join([str(int(b)) for b in walls]), 2))", "clean_code": "\"\"\"\"\"\".join(str(x) for x in walls)"}
{"question_id": "17731822-21", "gold": "hex(sum(b << i for i, b in enumerate(reversed(walls))))", "clean_code": "hex(sum(walls) / len(walls))"}
{"question_id": "1810743-81", "gold": "os.chdir('c:\\\\Users\\\\uname\\\\desktop\\\\python')", "clean_code": "os.chdir('c:\\\\Users\\\\uname\\\\desktop\\\\python')"}
{"question_id": "1810743-84", "gold": "os.chdir(path)", "clean_code": "os.chdir(os.path.expanduser(os.path.dirname(__file__)))"}
{"question_id": "1949318-13", "gold": "urllib.request.urlopen('http://www.stackoverflow.com').getcode()", "clean_code": "response = requests.get('http://www.stackoverflow.com', headers={'Access-Control-Allow-Origin': '*'})"}
{"question_id": "1949318-62", "gold": "conn = httplib.HTTPConnection('www.python.org') conn.request('HEAD', '/') r1 = conn.getresponse() print(r1.status, r1.reason)", "clean_code": "response = requests.get('www.python.org', headers={'Access-Control-Allow-Origin': '*'})"}
{"question_id": "1949318-89", "gold": "r = requests.head(url) return (r.status_code == 200)", "clean_code": "response = requests.get(url, headers={'Connection': 'close'})"}
{"question_id": "1949318-26", "gold": "print(urllib.request.urlopen('http://www.stackoverflow.com').getcode())", "clean_code": "urllib.request.urlretrieve('http://www.stackoverflow.com', 'http://www.stackoverflow.com', allow_redirects=True)"}
{"question_id": "19758364-39", "gold": "data.rename(columns={'gdp': 'log(gdp)'}, inplace=True)", "clean_code": "data['gdp'] = 'log(gdp)'"}
{"question_id": "15271907-69", "gold": "dbb.commit()", "clean_code": "db.session.commit()"}
{"question_id": "5352546-44", "gold": "{k: bigdict[k] for k in list(bigdict.keys()) & {'l', 'm', 'n'}}", "clean_code": "dict((k, v) for k, v in d.items() if 'l','m', or 'n')"}
{"question_id": "5352546-80", "gold": "dict((k, bigdict[k]) for k in ('l', 'm', 'n'))", "clean_code": "[(k, v) for k, v in bigdict.items() if ('l','m', 'n')]"}
{"question_id": "5352546-22", "gold": "{k: bigdict.get(k, None) for k in ('l', 'm', 'n')}", "clean_code": "[k for k, v in bigdict.items() if k in ('l','m', 'n')]"}
{"question_id": "5352546-75", "gold": "{k: bigdict[k] for k in ('l', 'm', 'n')}", "clean_code": "{k: v for k, v in bigdict.items() if 'l','m', 'n' in k}"}
{"question_id": "2331943-5", "gold": "json.load(u)", "clean_code": "dict(json.loads(u, ensure_ascii=False))"}
{"question_id": "4940032-13", "gold": "if ('blabla' in open('example.txt').read()):     pass", "clean_code": "re.findall('\\\\bblabla\\\\b', 'example.txt')"}
{"question_id": "4940032-15", "gold": "f = open('example.txt') s = mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ) if (s.find('blabla') != (-1)):     pass", "clean_code": "re.findall('\\\\bblabla\\\\b', 'example.txt')"}
{"question_id": "4940032-22", "gold": "datafile = file('example.txt') found = False for line in datafile:     if (blabla in line):         return True return False", "clean_code": "re.findall('\\\\bblabla\\\\b', 'example.txt')"}
{"question_id": "4476373-46", "gold": "r = requests.get(url)", "clean_code": "r = requests.get(url, headers={'Authorization': 'Bearer', 'Content-Type': 'application/x-www-form-urlencoded'})"}
{"question_id": "4476373-22", "gold": "r = requests.get(url, params=payload)", "clean_code": "r = requests.post(url, data=payload, headers={'Content-Type': 'application/x-www-form-urlencoded'})"}
{"question_id": "4476373-71", "gold": "r = requests.post(url, data=payload)", "clean_code": "r = requests.post(url, data=payload, headers=headers)"}
{"question_id": "4476373-99", "gold": "post_response = requests.post(url='http://httpbin.org/post', json=post_data)", "clean_code": "r = requests.post(url, data=post_data, headers={'Content-Type': 'application/x-www-form-urlencoded'})"}
{"question_id": "1476-16", "gold": "bin(173)", "clean_code": "\"\"\"0x{0:08X}\"\"\".format(173)"}
{"question_id": "1476-88", "gold": "int('01010101111', 2)", "clean_code": "int('01010101111')"}
{"question_id": "1476-71", "gold": "int('010101', 2)", "clean_code": "int('010101', 16)"}
{"question_id": "1476-39", "gold": "int('0b0010101010', 2)", "clean_code": "int('0b0010101010', 16)"}
{"question_id": "1476-6", "gold": "bin(21)", "clean_code": "\"\"\"{0:08X}\"\"\".format(21)"}
{"question_id": "1476-59", "gold": "int('11111111', 2)", "clean_code": "int('11111111', 16)"}
{"question_id": "41178532-76", "gold": "(trace_df['ratio'] > 0).mean()", "clean_code": "trace_df.loc[trace_df.ratio > 0]"}
{"question_id": "8249836-41", "gold": "list(itertools.product(*a))", "clean_code": "list(itertools.combinations(a, 2))"}
{"question_id": "364519-94", "gold": "it = iter(sorted(d.items()))", "clean_code": "for k, v in list(d.items()):     pass"}
{"question_id": "364519-100", "gold": "for (key, value) in sorted(d.items()):     pass", "clean_code": "for k, v in list(d.items()):     pass"}
{"question_id": "364519-2", "gold": "return sorted(dict.items())", "clean_code": "for k, v in list(dict.items()):     pass"}
{"question_id": "364519-33", "gold": "return iter(sorted(dict.items()))", "clean_code": "for k, v in list(dict.items()):     pass"}
{"question_id": "364519-52", "gold": "for (k, v) in sorted(foo.items()):     pass", "clean_code": "for k, v in foo.items():     pass"}
{"question_id": "364519-98", "gold": "for k in sorted(foo.keys()):     pass", "clean_code": "for k, v in foo.items():     pass"}
{"question_id": "39414085-16", "gold": "re.sub('(?<=[a-z])([A-Z])', '-\\\\1', s).lower()", "clean_code": "re.sub('(?<=[a-z])([A-Z]), '-\\\\1', s)"}
{"question_id": "34097281-53", "gold": "print(type(tf.Session().run(tf.constant([1, 2, 3]))))", "clean_code": "np.array([1, 2, 3])"}
{"question_id": "39816795-71", "gold": "s = pd.Series(['A', 'B', 'A1R', 'B2', 'AABB4'])", "clean_code": "s = pd.Series([['A', 'B', 'A1R', 'B2', 'AABB4'])"}
{"question_id": "638360-2", "gold": "dict((x, set(y) & set(d1.get(x, ()))) for x, y in d2.items())", "clean_code": "set(d1 & d2)"}
{"question_id": "19961490-16", "gold": "df = pandas.DataFrame(data, columns=['R_Number', 'C_Number', 'Avg', 'Std'])", "clean_code": "pd.concat([x[0], x[1]])"}
{"question_id": "18837262-55", "gold": "pd.DataFrame(list(d.items()), columns=['Date', 'DateValue'])", "clean_code": "pd.concat([d['Date'], d['DateValue'])"}
{"question_id": "4265988-26", "gold": "numpy.random.choice(numpy.arange(1, 7), p=[0.1, 0.05, 0.05, 0.2, 0.4, 0.2])", "clean_code": "random.choice([0.1, 0.05, 0.05, 0.2, 0.4, 0.2])"}
{"question_id": "35414625-11", "gold": "df.set_index(['year', 'month', 'item']).unstack(level=-1)", "clean_code": "pd.pivot(df, index=['year','month', 'item'], on=['year','month', 'item'])"}
{"question_id": "35414625-17", "gold": "df.pivot_table(values='value', index=['year', 'month'], columns='item')", "clean_code": "pd.melt(data, id_vars=None, var_name=None, value_name='year', col_level=1, ignore_index=True)"}
{"question_id": "748028-31", "gold": "p1.communicate()[0]", "clean_code": "output = p1.communicate()"}
{"question_id": "748028-100", "gold": "output = subprocess.Popen(['mycmd', 'myarg'], stdout=PIPE).communicate()[0]", "clean_code": "subprocess.call(['python.exe', '-c', '/path/to/file.exe'])"}
{"question_id": "10408927-95", "gold": "[elem.tag for elem in a.iter()]", "clean_code": "list(a.xpath(\"//a[@id='a']\").getElementsByTagName('a')[0])"}
{"question_id": "10408927-56", "gold": "[elem.tag for elem in a.iter() if elem is not a]", "clean_code": "[e for e in a if e.tag!= 'root']"}
{"question_id": "29471884-33", "gold": "min([x for x in num_list if x > 2])", "clean_code": "max(num_list, key=operator.itemgetter(2))"}
{"question_id": "2793324-81", "gold": "a.remove('b')", "clean_code": "a.remove('b')"}
{"question_id": "2793324-12", "gold": "a.remove(c)", "clean_code": "a.remove(c)"}
{"question_id": "2793324-93", "gold": "a.remove(6)", "clean_code": "a.pop(6)"}
{"question_id": "2793324-3", "gold": "a.remove(6)", "clean_code": "a.pop(6)"}
{"question_id": "2793324-97", "gold": "if (c in a):     a.remove(c)", "clean_code": "a.remove(c)"}
{"question_id": "2793324-5", "gold": "try:     a.remove(c) except ValueError:     pass", "clean_code": "a.remove(c)"}
{"question_id": "5826427-6", "gold": "subprocess.call('test.sh otherfunc')", "clean_code": "subprocess.call(['test.sh', 'otherfunc'])"}
{"question_id": "5826427-73", "gold": "subprocess.Popen(['bash', '-c', '. foo.sh; go'])", "clean_code": "os.system('bash -c \"test\"')"}
{"question_id": "30605909-89", "gold": "df.to_csv('c:\\\\data\\\\t.csv', index=False)", "clean_code": "df.to_csv('c:\\\\data\\\\t.csv')"}
{"question_id": "9891814-38", "gold": "print(re.match('(\\\\d+(\\\\.\\\\d+)?)', '3434.35353').group(1))", "clean_code": "re.findall('(\\\\d+(\\\\.\\\\d+)?)', '3434.35353)"}
{"question_id": "4668619-32", "gold": "Sample.objects.filter(date__range=['2011-01-01', '2011-01-31'])", "clean_code": "Sample.objects.filter(date__range=['2011-01-01', '2011-01-31'])"}
{"question_id": "4668619-26", "gold": "Sample.objects.filter(date__year='2011', date__month='01')", "clean_code": "Sample.objects.filter(year__gte=2011)"}
{"question_id": "16387069-81", "gold": "img = Image.open('picture.jpg') img.show()", "clean_code": "image = Image.open('picture.jpg', 'rb')"}
{"question_id": "16387069-86", "gold": "img = Image.open('picture.jpg') Img.show", "clean_code": "image = Image.open('picture.jpg', 'rb')"}
{"question_id": "12426043-1", "gold": "f.write(open('xxx.mp4', 'rb').read())", "clean_code": "f.write('xxx.mp4')"}
{"question_id": "41572822-28", "gold": "pd.DataFrame(df.columns[np.argsort(df.values)], df.index, np.unique(df.values))", "clean_code": "df.sort(axis=1, ascending=[True, False], inplace=True)"}
{"question_id": "21558999-5", "gold": "df1.groupby(['key', 'year']).size().reset_index()", "clean_code": "df1.dropna(subset=None, ignore_index=True)"}
{"question_id": "40963347-42", "gold": "df.groupby(np.arange(len(df.columns)) // 3, axis=1).mean()", "clean_code": "df.groupby(level=None).mean(axis=3, skipna=True)"}
{"question_id": "7284952-22", "gold": "redirect('Home.views.index')", "clean_code": "url('Home.views.index')"}
{"question_id": "42352887-25", "gold": "sorted(list(things.keys()), key=lambda x: things[x]['weight'], reverse=True)", "clean_code": "sorted(things, key=lambda x: x['weight'])"}
{"question_id": "247770-78", "gold": "print(a_module.__file__)", "clean_code": "os.path.dirname(os.path.abspath(a_module))"}
{"question_id": "247770-2", "gold": "print(os.getcwd())", "clean_code": "print(os.path.dirname(__file__))"}
{"question_id": "247770-13", "gold": "path = os.path.abspath(amodule.__file__)", "clean_code": "os.path.dirname(amodule)"}
{"question_id": "40660956-52", "gold": "df.groupby(np.arange(len(df.columns)) // 2 + 1, axis=1).sum().add_prefix('s')", "clean_code": "df.groupby(lambda x, y: x + y, axis=1)"}
{"question_id": "5110352-21", "gold": "now = datetime.datetime.now().strftime('%H:%M:%S')", "clean_code": "print(time.ctime(time.time()))"}
{"question_id": "3283984-56", "gold": "bytes.fromhex('4a4b4c').decode('utf-8')", "clean_code": "print('4a4b4c'.decode('hex'))"}
{"question_id": "14971373-85", "gold": "subprocess.check_output('ps -ef | grep something | wc -l', shell=True)", "clean_code": "subprocess.call(['ps -ef | grep something | wc -l'])"}
{"question_id": "18079563-10", "gold": "pd.Series(list(set(s1).intersection(set(s2))))", "clean_code": "np.intersection(s1, s2, ignore_index=True)"}
{"question_id": "26153795-98", "gold": "then = datetime.datetime.strptime(when, '%Y-%m-%d').date()", "clean_code": "datetime.datetime.strptime(when, '%Y-%m-%dT%H:%M:%SZ')"}
{"question_id": "5123839-3", "gold": "Entry.objects.filter()[:1].get()", "clean_code": "list(Entry.objects.all())[0]"}
{"question_id": "29784889-2", "gold": "warnings.simplefilter('always')", "clean_code": "warnings.filterwarnings(action='always', stacklevel=2)"}
{"question_id": "22676-23", "gold": "urllib.request.urlretrieve('http://www.example.com/songs/mp3.mp3', 'mp3.mp3')", "clean_code": "urllib.request.urlretrieve('http://www.example.com/songs/mp3.mp3','mp3.mp3')"}
{"question_id": "22676-91", "gold": "u = urllib.request.urlopen(url) f = open(file_name, 'wb') meta = u.info() file_size = int(meta.getheaders('Content-Length')[0]) print(('Downloading: %s Bytes: %s' % (file_name, file_size))) file_size_dl = 0 block_sz = 8192 while True:     buffer = u.read(block_sz)     if (not buffer):         break     file_size_dl += len(buffer)     f.write(buffer)     status = ('%10d  [%3.2f%%]' % (file_size_dl, ((file_size_dl * 100.0) / file_size)))     status = (status + (chr(8) * (len(status) + 1)))     print(status, end=' ') f.close()", "clean_code": "urllib.request.urlretrieve(url, file_name)"}
{"question_id": "22676-14", "gold": "response = urllib.request.urlopen('http://www.example.com/') html = response.read()", "clean_code": "urllib.request.urlretrieve('http://www.example.com/', filename='http://www.example.com/')"}
{"question_id": "22676-1", "gold": "r = requests.get(url)", "clean_code": "urllib.request.urlretrieve(url, stream=True)"}
{"question_id": "22676-64", "gold": "response = requests.get(url, stream=True) with open('10MB', 'wb') as handle:     for data in tqdm(response.iter_content()):         handle.write(data)", "clean_code": "r = urllib.request.urlretrieve(url, filesize=1024, stream=True)"}
{"question_id": "4490961-76", "gold": "scipy.tensordot(P, T, axes=[1, 1]).swapaxes(0, 1)", "clean_code": "np.dot(P, T, axis=1)"}
{"question_id": "1592158-5", "gold": "struct.unpack('!f', '470FC614'.decode('hex'))[0]", "clean_code": "float('470FC614')"}
{"question_id": "7286365-38", "gold": "list(reversed(list(range(10))))", "clean_code": "[i for i in [1, 10]]"}
{"question_id": "20573459-83", "gold": "(datetime.datetime.now() - datetime.timedelta(days=7)).date()", "clean_code": "datetime.datetime.now() - datetime.timedelta(days=7, freq='BM')"}
{"question_id": "23164058-67", "gold": "base64.b64encode(bytes('your string', 'utf-8'))", "clean_code": "base64.b64encode('your string')"}
{"question_id": "11236006-9", "gold": "[k for k, v in list(Counter(mylist).items()) if v > 1]", "clean_code": "list(set(mylist))"}
{"question_id": "31247198-48", "gold": "np.savetxt('c:\\\\data\\\\np.txt', df.values, fmt='%d')", "clean_code": "np.savetxt(fname, df.to_csv('np.txt'))"}
{"question_id": "31247198-21", "gold": "df.to_csv('c:\\\\data\\\\pandas.txt', header=None, index=None, sep=' ', mode='a')", "clean_code": "df.to_csv('c:\\\\data\\\\pandas.txt')"}
{"question_id": "15851568-6", "gold": "print(x.rpartition('-')[0])", "clean_code": "x.rsplit('-', 1)"}
{"question_id": "15851568-9", "gold": "print(x.rsplit('-', 1)[0])", "clean_code": "last_part = str.rsplit('-', 1)[(-1)]"}
{"question_id": "4172131-18", "gold": "[int(1000 * random.random()) for i in range(10000)]", "clean_code": "[random.randint(0, 1) for i in range(len(x))]"}
{"question_id": "6677332-3", "gold": "datetime.datetime.now().strftime('%H:%M:%S.%f')", "clean_code": "datetime.datetime.strptime(t, '%f').strftime('%f')"}
{"question_id": "583557-14", "gold": "print('\\n'.join('\\t'.join(str(col) for col in row) for row in tab))", "clean_code": "print('\\t'.join(tab))"}
{"question_id": "26053849-22", "gold": "df.astype(bool).sum(axis=1)", "clean_code": "pd.concat([0.0, 1.0], axis=1)"}
{"question_id": "30693804-5", "gold": "re.sub('[^\\\\sa-zA-Z0-9]', '', text).lower().strip()", "clean_code": "text = re.sub('[^A-Za-z0-9]', '', text)"}
{"question_id": "30693804-72", "gold": "re.sub('(?!\\\\s)[\\\\W_]', '', text).lower().strip()", "clean_code": "re.sub('[^A-Za-z0-9]', '', text)"}
{"question_id": "14435268-66", "gold": "print(soup.find('name').string)", "clean_code": "print(soup.find('name')[0])"}
{"question_id": "2011048-15", "gold": "os.stat(filepath).st_size", "clean_code": "count = os.path.getsize(filepath)"}
{"question_id": "2600191-99", "gold": "l.count('a')", "clean_code": "sum(1 for i in l if i == 'a')"}
{"question_id": "2600191-23", "gold": "Counter(l)", "clean_code": "sum(1 for i, j in enumerate(l) if i!= j)"}
{"question_id": "2600191-53", "gold": "[[x, l.count(x)] for x in set(l)]", "clean_code": "sum(1 for i, j in enumerate(l) if i!= j)"}
{"question_id": "2600191-55", "gold": "dict(((x, l.count(x)) for x in set(l)))", "clean_code": "sum(1 for i, j in enumerate(l) if i!= j)"}
{"question_id": "2600191-98", "gold": "l.count('b')", "clean_code": "sum(1 for i, j in enumerate(l) if 'b' in i)"}
{"question_id": "12842997-15", "gold": "shutil.copy(srcfile, dstdir)", "clean_code": "shutil.copy2(srcfile, dstdir, follow_symlinks=True)"}
{"question_id": "38152389-84", "gold": "df['c'] = np.where(df['a'].isnull, df['b'], df['a'])", "clean_code": "df['c'] = df['b'] + df['a']"}
{"question_id": "16296643-89", "gold": "list(t)", "clean_code": "[(i, j) for i, j in zip(t, t[1:])]"}
{"question_id": "16296643-89", "gold": "tuple(l)", "clean_code": "t = [(i, j) for i, j in zip(t, t)]"}
{"question_id": "16296643-20", "gold": "level1 = map(list, level1)", "clean_code": "level1 = [(i, j) for i, j in zip(level1, level2)]"}
{"question_id": "3880399-74", "gold": "pprint.pprint(dataobject, logFile)", "clean_code": "print(dataobject, file=logFile)"}
{"question_id": "21800169-34", "gold": "df.loc[df['BoolCol']]", "clean_code": "np.argwhere(np.in1d(a, ['BoolCol'], assume_unique=False))"}
{"question_id": "21800169-19", "gold": "df.iloc[np.flatnonzero(df['BoolCol'])]", "clean_code": "df.loc[df['BoolCol'].isin(True)]"}
{"question_id": "21800169-92", "gold": "df[df['BoolCol'] == True].index.tolist()", "clean_code": "[i for i, v in enumerate(a.loc[1:], axis=1) if v[BoolCol] == True]"}
{"question_id": "21800169-41", "gold": "df[df['BoolCol']].index.tolist()", "clean_code": "df.loc[df['BoolCol'].isin(True)]"}
{"question_id": "299446-100", "gold": "os.chdir(owd)", "clean_code": "os.chdir(os.path.join(os.path.dirname(__file__), 'owd'))"}
{"question_id": "32063985-36", "gold": "soup.find('div', id='main-content').decompose()", "clean_code": "browser.find_element_by_id('main-content').remove()"}
{"question_id": "17960441-40", "gold": "np.array([zip(x, y) for x, y in zip(a, b)])", "clean_code": "[(a[i], b[i]) for i in range(len(a))]"}
{"question_id": "17960441-39", "gold": "np.array(zip(a.ravel(), b.ravel()), dtype='i4,i4').reshape(a.shape)", "clean_code": "zip(a, b)"}
{"question_id": "26443308-74", "gold": "'abcd}def}'.rfind('}')", "clean_code": "\"\"\"abcd}def}\".find('{', 1)"}
{"question_id": "20546419-7", "gold": "np.random.shuffle(np.transpose(r))", "clean_code": "np.random.shuffle(r)"}
{"question_id": "574236-63", "gold": "os.statvfs('/').f_files - os.statvfs('/').f_ffree", "clean_code": "print(os.path.getsize(path))"}
{"question_id": "7011291-98", "gold": "cursor.fetchone()[0]", "clean_code": "result = cursor.fetchone()"}
{"question_id": "4454298-91", "gold": "open('outfile', 'w').write('#test firstline\\n' + open('infile').read())", "clean_code": "outfile = open('infile', 'a') outfile.write('#test firstline\\n')"}
{"question_id": "9012008-0", "gold": "bool(re.search('ba[rzd]', 'foobarrrr'))", "clean_code": "re.search('^ba[rzd]', fobarrrr)"}
{"question_id": "7961363-85", "gold": "list(set(t))", "clean_code": "t = list(set(t).values())"}
{"question_id": "7961363-86", "gold": "list(set(source_list))", "clean_code": "source_list = list(set(source_list))"}
{"question_id": "7961363-7", "gold": "list(OrderedDict.fromkeys('abracadabra'))", "clean_code": "abracadabra = list(set(abracadabra))"}
{"question_id": "5183533-81", "gold": "numpy.array(a).reshape(-1).tolist()", "clean_code": "[a[i] for i in range(len(a))]"}
{"question_id": "5183533-11", "gold": "numpy.array(a)[0].tolist()", "clean_code": "a.tolist()"}
{"question_id": "5999747-97", "gold": "print(soup.find(text='Address:').findNext('td').contents[0])", "clean_code": "soup.findAll('td[text()=\"Address:\"]')"}
{"question_id": "8908287-54", "gold": "encoded = base64.b64encode('data to be encoded')", "clean_code": "data.encode('utf-8')"}
{"question_id": "8908287-40", "gold": "encoded = 'data to be encoded'.encode('ascii')", "clean_code": "data.encode('ascii')"}
{"question_id": "9035479-73", "gold": "getattr(my_object, my_str)", "clean_code": "my_str = my_object.__dict__['my_str']"}
{"question_id": "34945274-35", "gold": "np.where(np.in1d(A, [1, 3, 4]).reshape(A.shape), A, 0)", "clean_code": "A = np.concatenate([1, 3, 4], axis=1)"}
{"question_id": "15819980-52", "gold": "np.mean(a, axis=1)", "clean_code": "np.mean(a, axis=0, axis=1)"}
{"question_id": "15907200-35", "gold": "writer.writeheader()", "clean_code": "writer = csv.DictWriter(writer)"}
{"question_id": "23359886-48", "gold": "a[np.where((a[:, (0)] == 0) * (a[:, (1)] == 1))]", "clean_code": "np.where(np.all(a == 0, a == 1, axis=1) == np.all(a == 0, axis=1)"}
{"question_id": "26097916-29", "gold": "pd.DataFrame({'email': sf.index, 'list': sf.values})", "clean_code": "df = df.set_index(['email', 'list'])"}
{"question_id": "1405602-48", "gold": "image = image.resize((x, y), Image.ANTIALIAS)", "clean_code": "image.resize((x, y), filter='ANTIALIAS')"}
{"question_id": "9323159-38", "gold": "heapq.nlargest(10, range(len(l1)), key=lambda i: abs(l1[i] - l2[i]))", "clean_code": "max(l1, l2, key=operator.itemgetter(1))"}
{"question_id": "29877663-54", "gold": "soup.find_all('span', {'class': 'starGryB sp'})", "clean_code": "soup.findAll('span', class='starGryB sp')"}
{"question_id": "16193578-72", "gold": "sorted(list5, lambda x: (degree(x), x))", "clean_code": "sorted(list5, key=lambda x: math.degrees(x))"}
{"question_id": "16193578-58", "gold": "sorted(list5, key=lambda vertex: (degree(vertex), vertex))", "clean_code": "sorted(a, key=operator.itemgetter('name'))"}
{"question_id": "7373219-3", "gold": "getattr(obj, 'attr')", "clean_code": "try:     pass except AttributeError as e:     pass"}
{"question_id": "1960516-75", "gold": "json.dumps(Decimal('3.9'))", "clean_code": "json.dumps(Decimal('3.9'))"}
{"question_id": "29836836-87", "gold": "df.groupby('A').filter(lambda x: len(x) > 1)", "clean_code": "df = df.loc[~df['A'].any(axis=1) for i in range(len(df.loc[A]))]"}
{"question_id": "35420052-72", "gold": "plt.colorbar(mappable=mappable, cax=ax3)", "clean_code": "plt.plot(mappable, bbox_inches='tight')"}
{"question_id": "29903025-37", "gold": "Counter(' '.join(df['text']).split()).most_common(100)", "clean_code": "df['text'].value_counts('text')"}
{"question_id": "4530069-65", "gold": "datetime.now(pytz.utc)", "clean_code": "datetime.datetime.today()"}
{"question_id": "9262278-9", "gold": "return HttpResponse(data, mimetype='application/json')", "clean_code": "response = Response(json.dumps(data, ensure_ascii=False))"}
{"question_id": "3595685-42", "gold": "subprocess.Popen(['background-process', 'arguments'])", "clean_code": "subprocess.Popen('background-process', arguments=arguments)"}
{"question_id": "30729735-74", "gold": "[i for i, j in enumerate(myList) if 'how' in j.lower() or 'what' in j.lower()]", "clean_code": "[i for i, x in enumerate(myList) if 'how' and 'what']"}
{"question_id": "22799300-26", "gold": "pd.DataFrame(out.tolist(), columns=['out-1', 'out-2'], index=out.index)", "clean_code": "pd.concat([out-1, out-2])"}
{"question_id": "3464359-19", "gold": "ax.set_xticklabels(labels, rotation=45)", "clean_code": "ax.set_xticklabels(['-', '45'])"}
{"question_id": "2212433-44", "gold": "len(list(yourdict.keys()))", "clean_code": "len(yourdict.keys())"}
{"question_id": "2212433-64", "gold": "len(set(open(yourdictfile).read().split()))", "clean_code": "sum(1 for i in list(yourdict.items()) if i!= 0)"}
{"question_id": "40924332-83", "gold": "pd.concat([df[0].apply(pd.Series), df[1]], axis=1)", "clean_code": "df = pd.concat([df[0], df[1], axis=0])"}
{"question_id": "804995-74", "gold": "subprocess.Popen(['c:\\\\Program Files\\\\VMware\\\\VMware Server\\\\vmware-cmd.bat'])", "clean_code": "subprocess.call(['c:\\\\Program Files\\\\VMware\\\\VMware Server\\\\vmware-cmd.bat'])"}
{"question_id": "26441253-42", "gold": "q.put((-n, n))", "clean_code": "q = list(q.reverse())"}
{"question_id": "21887754-31", "gold": "print(concatenate((a, b), axis=0))", "clean_code": "numpy.vstack((a, b, axis=0))"}
{"question_id": "21887754-88", "gold": "print(concatenate((a, b), axis=1))", "clean_code": "numpy.vstack((a, b, axis=1))"}
{"question_id": "21887754-21", "gold": "c = np.r_[(a[None, :], b[None, :])]", "clean_code": "numpy.vstack((a, b, axis=0))"}
{"question_id": "21887754-64", "gold": "np.array((a, b))", "clean_code": "numpy.vstack((a, b, axis=0))"}
{"question_id": "4356842-88", "gold": "return HttpResponse('Unauthorized', status=401)", "clean_code": "response.status_code = 401"}
{"question_id": "31793195-78", "gold": "df.index.get_loc('bob')", "clean_code": "df = df.loc[df['bob'].apply(lambda x: int(x[0]))"}
{"question_id": "18730044-52", "gold": "np.column_stack(([1, 2, 3], [4, 5, 6]))", "clean_code": "map(list, zip([1, 2, 3], [4, 5, 6]))"}
{"question_id": "22187233-98", "gold": "\"\"\"\"\"\".join([char for char in 'it is icy' if char != 'i'])", "clean_code": "re.sub('[^i]', '', 'it is icy')"}
{"question_id": "22187233-48", "gold": "re.sub('i', '', 'it is icy')", "clean_code": "re.sub('[^i]', '', 'it is icy')"}
{"question_id": "22187233-75", "gold": "\"\"\"it is icy\"\"\".replace('i', '')", "clean_code": "re.sub('[^i]', '', 'it is icy')"}
{"question_id": "22187233-63", "gold": "\"\"\"\"\"\".join([char for char in 'it is icy' if char != 'i'])", "clean_code": "re.sub('[^a-zA-Z0-9]', '', text)"}
{"question_id": "10351772-57", "gold": "nums = [int(x) for x in intstringlist]", "clean_code": "nums = [int(i) for i in intstringlist]"}
{"question_id": "10351772-10", "gold": "map(int, eval(input('Enter the unfriendly numbers: ')))", "clean_code": "list(map(int, ['1', '2', '3']))"}
{"question_id": "3964681-43", "gold": "os.chdir('/mydir') for file in glob.glob('*.txt'):     pass", "clean_code": "glob.glob('/mydir/*.txt')"}
{"question_id": "3964681-18", "gold": "for file in os.listdir('/mydir'):     if file.endswith('.txt'):         pass", "clean_code": "glob.glob('/mydir/*.txt')"}
{"question_id": "3964681-62", "gold": "for (root, dirs, files) in os.walk('/mydir'):     for file in files:         if file.endswith('.txt'):             pass", "clean_code": "glob.glob('/mydir/*.txt')"}
{"question_id": "18979111-77", "gold": "json.loads(request.body)", "clean_code": "json.loads(request.body, ensure_ascii=False)"}
{"question_id": "36402748-46", "gold": "df.groupby('prots').sum().sort('scores', ascending=False)", "clean_code": "df = df.sort_values(axis=1, ascending=True, inplace=True)"}
{"question_id": "7750557-47", "gold": "json.load(urllib.request.urlopen('url'))", "clean_code": "response = requests.get(url, headers={'Accept': 'application/json'})"}
{"question_id": "2984751-50", "gold": "Entry.objects.filter(pub_date__contains='08:00')", "clean_code": "filter(lambda x: x.hour >= 3600)"}
{"question_id": "5944630-52", "gold": "list.sort(key=lambda item: (item['points'], item['time']))", "clean_code": "sorted(list, key=lambda x: x['points'], reverse=True)"}
{"question_id": "19546911-36", "gold": "struct.unpack('H', struct.pack('h', number))", "clean_code": "number = int(number, 16)"}
{"question_id": "20107570-40", "gold": "df.to_csv(filename, index=False)", "clean_code": "df.to_csv(outfile, sep=',', index_label=None)"}
{"question_id": "8740353-74", "gold": "json_data = json.loads(unescaped)", "clean_code": "json_data = json.loads(unescaped.decode('string_escape'))"}
{"question_id": "18367007-15", "gold": "newFile.write(struct.pack('5B', *newFileBytes))", "clean_code": "newFile.write(newFileBytes)"}
{"question_id": "16125229-76", "gold": "list(dict.keys())[-1]", "clean_code": "last_key = list(dict.items())[(-1)]"}
{"question_id": "10668585-75", "gold": "AuthorizedEmail.objects.filter(group=group).order_by('-added')[0]", "clean_code": "max(AuthorizedEmail.objects.values_list('added', flat=True))"}
{"question_id": "10607688-46", "gold": "datetime.datetime.now()", "clean_code": "datetime.datetime.today()"}
{"question_id": "17794266-82", "gold": "max(x.min(), x.max(), key=abs)", "clean_code": "np.argmax(np.abs(x))"}
